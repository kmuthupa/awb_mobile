/*
* Kendo UI Complete v2012.1.515 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at http://kendoui.com/complete-license
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(a,b){function L(b,c){return b===c||a.contains(b,c)}var c=window.kendo,d=c.ui,e=d.Widget,f=c.support,g=f.touch,h=c.getOffset,i=a.browser.msie&&a.browser.version<9,j="open",k="close",l="closed",m="center",n="left",o="right",p="top",q="bottom",r="absolute",s="hidden",t="body",u="location",v="position",w="visible",x="fitted",y="effects",z="k-state-active",A="k-state-border",B=".k-picker-wrap, .k-dropdown-wrap, .k-link",C=g?"touchstart":"mousedown",D=a(document),E=a(window),F=a(document.documentElement),G="resize scroll",H=f.transitions.css,I=H+"transform",J=a.extend,K=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],M=e.extend({init:function(b,d){var f=this;e.fn.init.call(f,b,d),b=f.element,d=f.options,f.collisions=d.collision?d.collision.split(" "):[],f.collisions.length===1&&f.collisions.push(f.collisions[0]),f.element.hide().addClass("k-popup k-group k-reset").css({position:r}).appendTo(a(d.appendTo)).bind("mouseenter mouseleave",function(a){f._hovered=a.type==="mouseenter"}),f.wrapper=a(),d.animation===!1&&(d.animation={open:{show:!0,effects:{}},close:{hide:!0,effects:{}}}),J(d.animation.open,{complete:function(){f.wrapper.css({overflow:w})}}),J(d.animation.close,{complete:function(){f.wrapper.hide();var e=f.wrapper.data(u),g=a(d.anchor),h,i;e&&f.wrapper.css(e),d.anchor!=t&&(h=g.hasClass(A+"-down")?"down":"up",i=A+"-"+h,g.removeClass(i).children(B).removeClass(z).removeClass(i),b.removeClass(A+"-"+c.directions[h].reverse)),f._closing=!1,f.trigger(l)}}),f._mousedownProxy=function(a){f._mousedown(a)},f._currentWidth=D.width(),f._resizeProxy=function(a){f._resize(a)},d.toggleTarget&&a(d.toggleTarget).bind(d.toggleEvent,a.proxy(f.toggle,f))},events:[j,k,l],options:{name:"Popup",toggleEvent:"click",origin:q+" "+n,position:p+" "+n,anchor:t,appendTo:t,collision:"flip fit",animation:{open:{effects:"slideIn:down",transition:!0,duration:200,show:!0},close:{duration:100,show:!1,hide:!0}}},open:function(b,d){var e=this,h={isFixed:!isNaN(parseInt(d,10)),x:b,y:d},i=e.element,k=e.options,l="down",m,n,o=a(k.anchor),q,u;if(!e.visible()){for(u=0;u<K.length;u++)q=K[u],i.css(q,o.css(q));if(i.data("animating")||e.trigger(j))return;F.unbind(C,e._mousedownProxy).bind(C,e._mousedownProxy),g||E.unbind(G,e._resizeProxy).bind(G,e._resizeProxy),e.wrapper=n=c.wrap(i).css({overflow:s,display:"block",position:r}),f.mobileOS.android&&n.add(o).css(I,"translatez(0)"),n.css(v),k.appendTo==t&&n.css(p,"-10000px"),m=J(!0,{},k.animation.open),m.effects=c.parseEffects(m.effects,e._position(window,h)),l=m.effects.slideIn?m.effects.slideIn.direction:l;if(k.anchor!=t){var w=A+"-"+l;i.addClass(A+"-"+c.directions[l].reverse),o.addClass(w).children(B).addClass(z).addClass(w)}i.data(y,m.effects).kendoStop(!0).kendoAnimate(m)}},toggle:function(){var a=this;a[a.visible()?k:j]()},visible:function(){return this.element.is(":"+w)},close:function(){var a=this,b=a.options,d,e,f;if(a.visible()){if(a._closing||a.trigger(k))return;F.unbind(C,a._mousedownProxy),E.unbind(G,a._resizeProxy),d=J(!0,{},b.animation.close),e=a.element.data(y),f=d.effects,a.wrapper=c.wrap(a.element).css({overflow:s}),!f&&!c.size(f)&&e&&c.size(e)&&(d.effects=e,d.reverse=!0),a._closing=!0,a.element.kendoStop(!0).kendoAnimate(d)}},_resize:function(a){var b=this;if(i){var c=D.width();if(c==b._currentWidth)return;b._currentWidth=c}b._hovered||b.close()},_mousedown:function(b){var d=this,e=d.element[0],f=d.options,g=a(f.anchor)[0],h=f.toggleTarget,i=c.eventTarget(b),j=a(i).closest(".k-popup")[0];(!j||j===d.element[0])&&!L(e,i)&&!L(g,i)&&(!h||!L(a(h)[0],i))&&d.close()},_fit:function(a,b,c){var d=0;a+b>c&&(d=c-(a+b)),a<0&&(d=-a);return d},_flip:function(a,b,c,d,e,f,g){var h=0;g=g||b,f!==e&&f!==m&&e!==m&&(a+g>d&&(h+=-(c+b)),a+h<0&&(h+=c+b));return h},_position:function(b,c){b=a(b);var d=this,e=d.element,g=d.wrapper,i=d.options,j=a(i.anchor),k=i.origin.toLowerCase().split(" "),l=i.position.toLowerCase().split(" "),m=d.collisions,n=f.zoomLevel(),o=10002,p=j.parents().filter(g.siblings());if(p[0]){var q=Number(a(p).css("zIndex"));q&&(o=q+1)}g.css("zIndex",o),c&&c.isFixed?g.css({left:c.x,top:c.y}):g.css(d._align(k,l));var r=h(g,v),s=h(g),t=j.offsetParent().parent(".k-animation-container");t.length&&t.data(x)&&(r=h(g,v),s=h(g)),s={top:s.top-(window.pageYOffset||document.documentElement.scrollTop||0),left:s.left-(window.pageXOffset||document.documentElement.scrollLeft||0)},d.wrapper.data(u)||g.data(u,J({},r));var w=J({},s),y=J({},r);m[0]==="fit"&&(y.top+=d._fit(w.top,g.outerHeight(),b.height()/n)),m[1]==="fit"&&(y.left+=d._fit(w.left,g.outerWidth(),b.width()/n)),y.left!=r.left||y.top!=r.top?g.data(x,!0):g.removeData(x);var z=J({},y);m[0]==="flip"&&(y.top+=d._flip(w.top,e.outerHeight(),j.outerHeight(),b.height()/n,k[0],l[0],g.outerHeight())),m[1]==="flip"&&(y.left+=d._flip(w.left,e.outerWidth(),j.outerWidth(),b.width()/n,k[1],l[1],g.outerWidth())),g.css(y);return y.left!=z.left||y.top!=z.top},_align:function(b,c){var d=this,e=d.wrapper,f=a(d.options.anchor),g=b[0],i=b[1],j=c[0],k=c[1],l=h(f),n=a(d.options.appendTo),p,r=e.outerWidth(),s=e.outerHeight(),t=f.outerWidth(),u=f.outerHeight(),v=l.top,w=l.left,x=Math.round;n[0]!=document.body&&(p=h(n),v-=p.top,w-=p.left),g===q&&(v+=u),g===m&&(v+=x(u/2)),j===q&&(v-=s),j===m&&(v-=x(s/2)),i===o&&(w+=t),i===m&&(w+=x(t/2)),k===o&&(w-=r),k===m&&(w-=x(r/2));return{top:v,left:w}}});d.plugin(M)})(jQuery)